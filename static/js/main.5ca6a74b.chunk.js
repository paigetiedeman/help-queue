(this["webpackJsonphelp-queue"]=this["webpackJsonphelp-queue"]||[]).push([[0],{21:function(e,t,n){e.exports=n(36)},27:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),l=n(5),c=n.n(l);n(26),n(27);var r=function(){return i.a.createElement("h1",null,"Help Queue")},o=n(14),s=n(15),u=n(20),m=n(19),d=n(16);var T=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("form",{onSubmit:e.formSubmissionHandler},i.a.createElement("input",{type:"text",name:"names",placeholder:"Pair Names",className:"form-control"}),i.a.createElement("br",null),i.a.createElement("input",{type:"text",name:"location",placeholder:"Location",className:"form-control"}),i.a.createElement("br",null),i.a.createElement("textarea",{name:"issue",placeholder:"Describe your issue.",className:"form-control"}),i.a.createElement("br",null),i.a.createElement("button",{type:"submit",className:"btn btn-dark"},e.buttonText)),i.a.createElement("br",null))},E=n(8),p=n.n(E);var k=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(T,{formSubmissionHandler:function(t){t.preventDefault(),e.onNewTicketCreation({names:t.target.names.value,location:t.target.location.value,issue:t.target.issue.value,id:Object(d.v4)(),timeOpen:new p.a,formattedWaitTime:(new p.a).fromNow(!0)})},buttonText:"Help!"}))};var f=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{onClick:function(){return e.whenTicketClicked(e.id)}},i.a.createElement("h3",null,e.location," - ",e.names),i.a.createElement("p",null,i.a.createElement("em",null,e.issue)),i.a.createElement("p",null,i.a.createElement("em",null,e.formattedWaitTime)),i.a.createElement("hr",null)))};var h=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("hr",null),Object.values(e.ticketList).map((function(t){return i.a.createElement(f,{whenTicketClicked:e.onTicketSelection,names:t.names,location:t.location,issue:t.issue,formattedWaitTime:t.formattedWaitTime,id:t.id,key:t.id})})))};var g=function(e){var t=e.ticket;return i.a.createElement(i.a.Fragment,null,i.a.createElement("h1",null,"Ticket Detail"),i.a.createElement("h3",null,t.location," - ",t.names),i.a.createElement("p",null,i.a.createElement("em",null,t.issue)),i.a.createElement("p",null,i.a.createElement("em",null,t.formattedWaitTime)),i.a.createElement("button",{onClick:e.onClickingEdit,className:"btn btn-dark"},"Update Ticket"),i.a.createElement("button",{onClick:function(){return e.onClickingDelete(t.id)},className:"btn btn-dark"},"Close Ticket"),i.a.createElement("hr",null))};var b=function(e){var t=e.ticket;return i.a.createElement(i.a.Fragment,null,i.a.createElement(T,{formSubmissionHandler:function(n){n.preventDefault(),e.onEditTicket({names:n.target.names.value,location:n.target.location.value,issue:n.target.issue.value,id:t.id,timeOpen:t.timeOpen,formattedWaitTime:t.formattedWaitTime})},buttonText:"Update Ticket"}))},v=n(6),O=function(e){return{type:"ADD_TICKET",names:e.names,location:e.location,issue:e.issue,id:e.id,formattedWaitTime:e.formattedWaitTime,timeOpen:e.timeOpen}},C=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).updateTicketElapsedWaitTime=function(){var e=a.props.dispatch;Object.values(a.props.mainTicketList).forEach((function(t){var n=t.timeOpen.fromNow(!0),a={type:"UPDATE_TIME",id:t.id,formattedWaitTime:n};e(a)}))},a.handleAddingNewTicketToList=function(e){var t=a.props.dispatch;t(O(e)),t({type:"TOGGLE_FORM"})},a.handleClick=function(){null!=a.state.selectedTicket?a.setState({selectedTicket:null,editing:!1}):(0,a.props.dispatch)({type:"TOGGLE_FORM"})},a.handleChangingSelectedTicket=function(e){var t=a.props.mainTicketList[e];a.setState({selectedTicket:t})},a.handleDeletingTicket=function(e){(0,a.props.dispatch)(function(e){return{type:"DELETE_TICKET",id:e}}(e)),a.setState({selectedTicket:null})},a.handleEditClick=function(){a.setState({editing:!0})},a.handleEditingTicketInList=function(e){(0,a.props.dispatch)(O(e)),a.setState({editing:!1,selectedTicket:null})},console.log(e),a.state={selectedTicket:null,editing:!1},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.waitTimeUpdateTimer=setInterval((function(){return e.updateTicketElapsedWaitTime()}),6e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.waitTimeUpdateTimer)}},{key:"render",value:function(){var e=null,t=null;return this.state.editing?(e=i.a.createElement(b,{ticket:this.state.selectedTicket,onEditTicket:this.handleEditingTicketInList}),t="Return to Ticket List"):null!=this.state.selectedTicket?(e=i.a.createElement(g,{ticket:this.state.selectedTicket,onClickingDelete:this.handleDeletingTicket,onClickingEdit:this.handleEditClick}),t="Return to Ticket List"):this.props.formVisibleOnPage?(e=i.a.createElement(k,{onNewTicketCreation:this.handleAddingNewTicketToList}),t="Return to Ticket List"):(e=i.a.createElement(h,{ticketList:this.props.mainTicketList,onTicketSelection:this.handleChangingSelectedTicket}),t="Add Ticket"),i.a.createElement(i.a.Fragment,null,e,i.a.createElement("button",{onClick:this.handleClick,className:"btn btn-dark"},t))}}]),n}(i.a.Component),L=C=Object(v.b)((function(e){return{mainTicketList:e.mainTicketList,formVisibleOnPage:e.formVisibleOnPage}}))(C);var D=function(){return i.a.createElement("div",{className:"container"},i.a.createElement(i.a.Fragment,null,i.a.createElement(r,null),i.a.createElement(L,null)))},j=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,37)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,l=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),l(e),c(e)}))},w=n(3),y=n(18),W=n(4),F=Object(w.b)({formVisibleOnPage:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_FORM":return!e;default:return e}},mainTicketList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.names,a=t.location,i=t.issue,l=t.id,c=t.formattedWaitTime,r=t.timeOpen;switch(t.type){case"ADD_TICKET":return Object.assign({},e,Object(W.a)({},l,{names:n,location:a,issue:i,id:l,timeOpen:r,formattedWaitTime:c}));case"DELETE_TICKET":var o=Object(y.a)({},e);return delete o[l],o;case"UPDATE_TIME":var s=Object.assign({},e[l],{formattedWaitTime:c}),u=Object.assign({},e,Object(W.a)({},l,s));return u;default:return e}}}),N=Object(w.c)(F);N.subscribe((function(){return console.log(N.getState())})),c.a.render(i.a.createElement(v.a,{store:N},i.a.createElement(D,null)),document.getElementById("root")),j()}},[[21,1,2]]]);
//# sourceMappingURL=main.5ca6a74b.chunk.js.map